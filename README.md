<div align="center">
<h3>[ECCV2024] OmniSSR: Zero-shot Omnidirectional Image Super-Resolution using Stable Diffusion Model</h3>

[Runyi Li](https://github.com/LiRunyi2001/OmniSSR/), [Xuhan Sheng](https://github.com/llstela/), [Weiqi Li](https://github.com/lwq20020127/), [Jian Zhang](https://jianzhang.tech/)

School of Electronic and Computer Engineering, Peking University

[![arXiv](https://img.shields.io/badge/arXiv-2404.10312-b31b1b.svg)](https://arxiv.org/abs/2404.10312)
[![Home Page](https://img.shields.io/badge/Project-<Website>-blue.svg)](https://akaneqwq.github.io/360DVD/)

This repository is the official implementation of OmniSSR, a *zero-shot* omni-directional image super-resolution framework based on Stable Diffusion. We propose Gradient Decomposition to guide the prior sampling of SD with the degradation operation.

</div>

## Gallery

We have showcased some SR results generated by OmniSSR below. 

More results can be found on our [Project Page](https://akaneqwq.github.io/360DVD/).

<table>
  <tr>
    <td><img src="__assets__/videos/1.gif" alt="AnimateDiff"></td>
    <td><img src="__assets__/videos/1_1.gif" alt="Ours"></td>
    <td><img src="__assets__/videos/2.gif" alt="AnimateDiff"></td>
    <td><img src="__assets__/videos/2_1.gif" alt="Ours"></td>
  </tr>
</table>

Model: [Realistic Vision V5.1](https://civitai.com/models/4201/realistic-vision-v20)

## To Do List
- [x] Release code
- [x] Release paper

##  Steps for Inference

### Prepare Environment
Please install 
```
git clone https://github.com/Akaneqwq/360DVD.git
cd 360DVD

conda env create -f environment.yaml
conda activate 360dvd
```

### Download Submodules and Checkpoints
```
git lfs install
mkdir -p ckpts/StableDiffusion/
git clone https://huggingface.co/runwayml/stable-diffusion-v1-5 ckpts/StableDiffusion/stable-diffusion-v1-5/

bash download_bashscripts/0-MotionModule.sh
bash download_bashscripts/1-360Adapter.sh
bash download_bashscripts/2-RealisticVision.sh
```

### Generate Panorama Videos
```
python -m scripts.animate --config configs/prompts/0-realisticVision.yaml
```
You can write your own config, then update the path and run it again. We strongly recommend using a personalized T2I model, such as Realistic Vision or Lyriel, for a better performance.



### Prepare Dataset



## Contact Us
**Runyi Li**: [lirunyi@stu.pku.edu.cn](mailto:lirunyi@stu.pku.edu.cn)
**Xuhan Sheng**: [lirunyi@stu.pku.edu.cn](mailto:lirunyi@stu.pku.edu.cn)


## Acknowledgements
Codebase built upon [StableSR](https://github.com/IceClear/StableSR/) and [DDNM](https://github.com/wyhuai/DDNM).

## BibTeX
```
@article{wang2024360dvd,
  title={360DVD: Controllable Panorama Video Generation with 360-Degree Video Diffusion Model},
  author={Qian Wang and Weiqi Li and Chong Mou and Xinhua Cheng and Jian Zhang},
  journal={arXiv preprint arXiv:2401.06578},
  year={2024}
}
```